╔══════════════════════════════════════════════════════════════════════╗
║          SCORECARD PIPELINE - REQUIREMENTS CHECK                     ║
╚══════════════════════════════════════════════════════════════════════╝

  MODE: Check only (use --install to fix issues)

======================================================================
 1. PYTHON VERSION
======================================================================
  ✓ Python 3.11 (>= 3.9 required)

======================================================================
 2. CUDA / GPU (System-wide - Read Only)
======================================================================
  ✓ GPU detected: NVIDIA A100-SXM4-80GB, 580.95.05
  ✓ PyTorch CUDA: 12.1
  ✓ GPU count: 2
  ℹ CUDA_HOME not set (may still work via PyTorch)
  ✓ LD_LIBRARY_PATH includes NVIDIA/CUDA paths

======================================================================
 3. PYTHON PACKAGES
======================================================================
  ✓ numpy: 1.26.4
  ✓ pandas: 2.3.2
  ✓ scikit-learn: 1.4.1.post1
  ✓ spacy: 3.8.7
  ✓ beautifulsoup4: 4.13.5
  ✓ tiktoken: 0.8.0
  ⚠ torch: 2.1.2+cu121 (need >= 2.0.0)
  ✓ sentence-transformers: 2.6.1
  ✓ pyodbc: unknown
  ⚠ elasticsearch: (8, 13, 0) (need >= 8.0.0)
  ✓ openai: 1.83.0
  ✓ thinc: 8.3.6

  To install missing packages, run:
    pip install --user --upgrade torch>=2.0.0 elasticsearch>=8.0.0

======================================================================
 4. GPU PACKAGES (for spaCy acceleration)
======================================================================
  ✓ CuPy: 13.5.1
  ✓ CuPy GPU test: PASSED

  ℹ Checking thinc (spaCy backend) CUDA support...
  ✓ spacy.prefer_gpu() returned True - GPU acceleration available!

======================================================================
 5. SPACY MODEL
======================================================================
  ✓ Model 'en_core_web_trf' is installed

======================================================================
 6. CONFIGURATION FILES
======================================================================
  ✓ Model Matrix: /home/jovyan/silver-iguana/spark_jan/prompts/model_matrix.json
  ✓ SQL Query: /home/jovyan/silver-iguana/spark_jan/prompts/sql_query.txt
  ✓ GPT Prompt: /home/jovyan/silver-iguana/spark_jan/prompts/GPT_Prompt.txt

======================================================================
 7. CONNECTIVITY (Optional)
======================================================================
  ℹ Skipping connectivity checks - will fail gracefully at runtime
  ℹ Required services: SQL Server, Elasticsearch, OpenAI API

======================================================================
 SUMMARY
======================================================================

  ⚠ WARNINGS (1):
    - Outdated packages: torch, elasticsearch

  Pipeline should work, but with reduced functionality.
